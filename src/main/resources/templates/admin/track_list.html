<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Dash Admin Race List</title>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
<body>
  <h1>üçã Lemon-Pi Dash üçã : Track List</h1>
  <table>
      <thead>
      <tr>
          <th> Track </th>
          <th> Connection State </th>
      </tr>
      </thead>
      <tbody>
      <tr th:if="${tracks.empty}">
          <td colspan="2"> No Tracks Available </td>
      </tr>
      <tr th:each="track : ${tracks}">
          <td><span th:text="${track.trackName}"> Track </span></td>
          <td>
              <span th:if="${track.active}">
                <a th:href="@{/admin/disconnect(handle=${track.handle})}">Disconnect</a>
              </span>
              <span th:unless="${track.active}">
                <a th:href="@{/admin/choose_track(trackCode=${track.trackCode})}">Connect</a>
              </span>
          </td>
          <td>
              <a th:href="@{/live_track_map(track=${track.trackCode})}" target="_blank"><img src="/map.png" width="48" height="48"></a>
          </td>
          <td>
              <a th:href="@{/admin/car_message(track=${track.trackCode})}">Car Comms</a>
          </td>
      </tr>
      </tbody>
  </table>
</body>
</html>